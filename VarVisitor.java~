package hw2;

import hw2.Record;
import hw2.TypeVisitor;
import visitor.GJNoArguDepthFirst;
import syntaxtree.*;


class VarVisitor extends GJNoArguDepthFirst<VarRecord> {

    //helper visitors
    TypeVisitor type_visitor;

    //constructor
    public VarVisitor() {
	type_visitor = new TypeVisitor();
    }

    @Override
    public VarRecord visit(VarDeclaration n) {
	VarRecord vr = new VarRecord(n.f1.f0.tokenImage);
	vr.type = type_visitor.visit(n.f0.f0.choice);
	return vr;
    }

    @Override
    public VarRecord visit(FormalParameter n) {
	VarRecord vr = new VarRecord(n.f1.f0.tokenImage);
	vr.type = type_visitor.visit(n.f0.f0.choice);
	return vr;
    }

    //here we use an encapsulation trick that isnt very pretty
    @Override
    public VarRecord visit(ArrayType n) {
	
}



class VarRecord extends Record {

    //member variable
    public String type;

    //constructor
    public VarRecord(String id) {
	super(id);
    }
}
